<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="ISO-8859-1">
    <title>Karaoke</title>
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
          crossorigin="anonymous">
    <style>
        .line {
            font-size:84px;
            font-weight:bold;
            color:#FAFAFA;
        }

        .big {
            font-size:108px;
        }
    </style>
</head>
<body class="d-flex flex-column justify-content-center align-items-center" th:style="'height:100vh;background:url(' + @{/images/track/background.jpg} + ') no-repeat center center fixed;background-size:cover'">
<div class="d-flex flex-column w-100 justify-content-center align-items-center">
    <p class="line big" style="text-shadow: 1px 1px #616161, 1px -1px #616161, -1px -1px #616161, -1px 1px #616161">Select your track</p>
</div>
<div class="d-flex flex-row w-100 justify-content-center align-items-center" style="padding:0px 30px 0px 30px;z-index:0">
    <div class="mx-2 px-5" style="width:800px;border: 12px solid #FAFAFA;border-radius:32px;background-color:#0277BD">
        <p class="line" th:text="${track1.name}"></p>
        <p class="line" th:text="${track1.artist}"></p>
    </div>
    <div class="mx-2 px-5" style="width:800px;border: 12px solid #FAFAFA;border-radius:32px;background-color:#EF6C00">
        <p class="line" th:text="${track2.name}"></p>
        <p class="line" th:text="${track2.artist}"></p>
    </div>
</div>
<script>
    const sendGet = (url) => {
        const xmlHttp = new XMLHttpRequest();

        xmlHttp.open("GET", url, false);
        xmlHttp.send(null);

        return xmlHttp.responseText === "true";
    };

    const interval = setInterval(() => {
        const response = sendGet("/track/ping");

        if (response) {
            clearInterval(interval);
            window.location = "/play";
        }
    }, 100);
</script>
</body>
</html>